{% extends 'admin/index.html.twig' %}

{% block title %}Brands{% endblock %}

{% block content_header %}Brands{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('tire_brand_list') }}
{% endblock %}

{% block content %}
    <div class="row pt-3">

        <div class="col-sm-3">
            <div class="card text-primary border-primary mb-3 bg-light shadow">
                <div class="card-header">
                    <i class="bi bi-tags-fill mr-2"></i>
                    TOTAL BRANDS
                </div>
                <div class="card-body">
                    <button class="btn btn-outline-primary  btn-block" disabled>{{ brands.getTotalItemCount }}</button>
                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="card text-info border-info mb-3 bg-light shadow">
                <div class="card-header">
                    <i class="bi bi-search mr-2"></i>
                    FIND BRAND
                </div>
                <div class="card-body">
                    <form>
                        <div class="input-group">
                            <input type="text" class="form-control" name="brand" id="find_brand" placeholder="Name...">
                            <div class="input-group-append">
                                <button class="btn btn-info"><i class="bi bi-search"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="card text-success border-success mb-3 bg-light shadow">
                <div class="card-header">
                    <i class="bi bi-plus-square mr-2"></i>
                    NEW BRAND
                </div>
                <div class="card-body">
                    <a href="{{ path('admin_tires_brands_new') }}" class="btn btn-outline-success btn-block">ADD</a>
                </div>
            </div>
        </div>

    </div>

    <div class="row pt-3">

        <div class="col-12">
            <div class="card text-dark border-dark mb-3 bg-light shadow">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <div>
                        <i class="bi bi-list-check mr-2"></i>
                        LIST OF BRANDS
                    </div>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="bi bi-funnel"></i>
                            {% if brands.isSorted('b.name') %}
                                Brand
                            {% else %}
                                Sort by
                            {% endif %}
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <div class="d-flex flex-row align-items-center">
                                <div class="d-flex flex-column ml-2">
                                    <i class="bi bi-tag-fill"></i>
                                </div>
                                <div class="d-flex flex-column ml-2">
                                    {{ knp_pagination_sortable(brands, 'Brand A-Z', 'b.name', {'sort': 'b.name', 'direction' : 'asc', 'class' : 'text-dark' }) }}
                                </div>
                                <div class="d-flex flex-column mr-2 ml-auto">
                                    <i class="bi bi-sort-alpha-down"></i>
                                </div>
                            </div>
                            <div class="d-flex flex-row align-items-center">
                                <div class="d-flex flex-column ml-2">
                                    <i class="bi bi-tag-fill"></i>
                                </div>
                                <div class="d-flex flex-column ml-2">
                                    {{ knp_pagination_sortable(brands, 'Brand Z-A', 'b.name', {'sort': 'b.name', 'direction' : 'desc', 'class' : 'text-dark' }) }}
                                </div>
                                <div class="d-flex flex-column mr-2 ml-auto">
                                    <i class="bi bi-sort-alpha-down-alt"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-light table-striped">
                        <thead>
                        <tr>
                            <th scope="col">Name</th>
                                <th scope="col">Image</th>
                                <th scope="col" style="width: 5%">Show</th>
                                <th scope="col" style="width: 5%">Edit</th>
                                <th scope="col" style="width: 5%">Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for brand in brands %}
                            <tr>
                                <td class="align-middle">{{ brand.name }}</td>
                                <td class="align-middle">
                                    <img src="{{ asset(brand.imageUrl)|imagine_filter('thumb_100') }}" style="width: 50px" alt="{{ brand.name }}">
                                </td>
                                <td class="align-middle">
                                    <a class="btn btn-outline-success" href="{{ path('show_brand', { slug: brand.slug }) }}">
                                        <i class="bi bi-search"></i>
                                    </a>
                                </td>
                                <td class="align-middle">
                                    <a class="btn btn-outline-warning" href="{{ path('admin_tires_brands_edit', { id: brand.id }) }}">
                                        <i class="bi bi-pencil-fill"></i>
                                    </a>
                                </td>
                                <td class="align-middle">
                                    <form action="{{ path('admin_tires_brands_delete', { id: brand.id }) }}" method="POST">
                                        <input type="hidden" name="_method" value="DELETE">
                                        <button type="submit" class="btn btn-outline-danger">
                                            <i class="bi bi-trash-fill"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% if knp_pagination_render(brands) %}
                    <div class="card-footer d-flex justify-content-center align-items-center">
                        {{ knp_pagination_render(brands) }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% block bottom_javascript %}
        {{ parent() }}
        {{ encore_entry_script_tags('tire_brand_list') }}
    {% endblock %}
{% endblock %}
